require("../../common/manifest.js")
require("../../common/vendor.js")
global.webpackJsonpMpvue([1],{"5vKG":function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action_sheet"},[a("van-action-sheet",{attrs:{show:t.showCard,eventid:"3",mpcomid:"1"},on:{close:t.onClose}},[a("div",{staticClass:"content"},[a("div",{staticClass:"top"},[a("div",{staticClass:"tag"},t._l(t.tagTitle,function(e,n){return a("h1",{key:n,class:t.actived==n?"actived":"",attrs:{eventid:"0_"+n},on:{click:function(e){t.chooseRank(n)}}},[t._v("\n            "+t._s(e)+"\n          ")])})),t._v(" "),a("div",{staticClass:"canel",attrs:{eventid:"1"},on:{click:t.onClose}},[t._v("✕")]),t._v(" "),a("div",{staticClass:"weeks"},[a("Weeks",{attrs:{weekType:t.weekType,mpcomid:"0"}})],1)]),t._v(" "),a("div",{staticClass:"crad_list"},[a("scroll-view",{staticStyle:{height:"375px"},attrs:{"scroll-y":"true","scroll-top":"15px"}},[a("div",{staticClass:"list"},[a("div",{staticClass:"header"},[a("img",{attrs:{src:t.weeksInfo.img,alt:""}}),t._v(" "),a("h1",[t._v(t._s(t.weeksInfo.title))]),t._v(" "),a("p",[t._v(t._s(t.weeksInfo.subTitle))])],1),t._v(" "),a("div",{staticClass:"wrapper"},t._l(t.dataList,function(e,n){return a("div",{key:n,staticClass:"item",attrs:{eventid:"2_"+n},on:{click:function(a){t.toDetail(e.id,e)}}},[a("img",{attrs:{src:e.mainImg,alt:""}}),t._v(" "),a("p",[t._v(t._s(e.name))]),t._v(" "),a("span",[t._v(t._s(e.title))]),t._v(" "),a("i",[t._v("￥"+t._s(e.price))])],1)}))])])],1)])])],1)},staticRenderFns:[]};e.a=n},"5vTQ":function(t,e,a){"use strict";var n=a("Xxa5"),s=a.n(n),i=a("exGp"),c=a.n(i),r=a("Cz8s"),o=a("oMBN"),d=a("GGWd"),u=a("6b4L"),l=a("BgHB"),f=a("DofF"),h=a("DXLP"),v=a("wGq5"),p=a("MBXS"),m=a("pjNn");e.a={data:function(){return{dataList:[],dataCache:[],headerData:{showRank:!0,title:"礼物攻略说",tip:"礼物预知与踩坑，精选礼品与测评",topSearch:!1,bg:"http://qjm6jf150.hn-bkt.clouddn.com/top_bg.jpg"},tagData:[{title:"礼物攻略",tag:"原创礼物攻略，送礼选礼不踩坑"},{title:"礼物榜单",tag:"独家礼物榜单，每周更新"},{title:"礼物社区",tag:"分享有趣的送礼小故事"},{title:"体验馆精选",tag:"精选好礼，选礼不踩雷"}],more:["查看更多礼物攻略","","查看更多礼物故事","查看更多精选好礼"],sheetData:{showSheet:!1,index:0,tagData:{title:"体验馆精选",tag:"精选好礼，选礼不踩雷"},dataList:[]}}},created:function(){var t=this;return c()(s.a.mark(function e(){var a,n,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.tagData.length-1,wx.showLoading({title:"加载中……"}),n=function(e){setTimeout(function(){t.getIndexData(e,a)},500)},i=0;i<a;i++)n(i);case 4:case"end":return e.stop()}},e,t)}))()},methods:{getIndexData:function(t,e){var a=this;wx.nextTick(function(){a.REQUEST("index-"+ ++t).then(function(n){if(200==n.code){var s=n.data.data||n.data;a.dataCache.push(s),t==--e&&(a.dataList=a.dataCache,wx.hideLoading())}}).catch(function(t){setTimeout(function(){a.dataCache||a.TOAST("fail","获取数据失败！")},3200)})})},actionSheet:function(t){this.sheetData={index:t,showSheet:!0,tagData:this.tagData[t]}},getSheetSatus:function(t){this.sheetData.showSheet=t},scroll:function(t){t.target.scrollTop>200?this.headerData.topSearch=!0:this.headerData.topSearch=!1}},components:{Recommend:o.a,Experience:d.a,Community:u.a,Headers:r.a,Tag:l.a,More:f.a,Weeks:h.a,weeksCard:v.a,actionSheet:p.a,rankSheet:m.a},onShareAppMessage:function(){return{title:"礼物攻略说-礼物预知与踩坑，精选礼品评与测评~"}},onShareTimeline:function(){return{title:"礼物攻略说-礼物预知与踩坑，精选礼品评与测评~"}}}},DXLP:function(t,e,a){"use strict";var n=a("N3fY"),s=a("oh/3");var i=function(t){a("hOWi")},c=a("ybqe")(n.a,s.a,i,"data-v-3b79a073",null);e.a=c.exports},MbFl:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("scroll-view",{staticStyle:{height:"700px"},attrs:{"scroll-y":"true",eventid:"1"},on:{scroll:t.scroll,scrolltolower:t.scrollBottom}},[a("Headers",{attrs:{headerData:t.headerData,mpcomid:"0"}}),t._v(" "),t._l(t.tagData,function(e,n){return a("div",{key:n,staticClass:"card_list"},[a("Tag",{attrs:{tagData:e,mpcomid:"1_"+n}}),t._v(" "),0==n?a("Experience",{attrs:{dataList:t.dataList[n],mpcomid:"2_"+n}}):t._e(),t._v(" "),1==n?a("Weeks",{attrs:{mpcomid:"3_"+n}}):t._e(),t._v(" "),1==n?a("weeksCard",{attrs:{mpcomid:"4_"+n}}):t._e(),t._v(" "),3==n?a("Recommend",{attrs:{dataList:t.dataList[n-1],mpcomid:"5_"+n}}):t._e(),t._v(" "),2==n?a("Community",{attrs:{dataList:t.dataList[n-1],mpcomid:"6_"+n}}):t._e(),t._v(" "),1!=n?a("div",{attrs:{eventid:"0_"+n},on:{click:function(e){t.actionSheet(n)}}},[a("More",{attrs:{more:t.more[n],mpcomid:"7_"+n}})],1):t._e()],1)})],2),t._v(" "),a("actionSheet",{attrs:{sheetData:t.sheetData,eventid:"2",mpcomid:"8"},on:{sheetSatus:t.getSheetSatus}}),t._v(" "),a("rankSheet",{attrs:{mpcomid:"9"}}),t._v(" "),t._e()],1)},staticRenderFns:[]};e.a=n},MhDc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("5nAL"),s=a.n(n),i=a("Qt9A");new s.a(i.a).$mount()},N3fY:function(t,e,a){"use strict";var n=a("Xxa5"),s=a.n(n),i=a("exGp"),c=a.n(i),r=a("Dd8w"),o=a.n(r),d=a("NYxO");e.a={props:{weekType:Number},data:function(){return{dataList:[],actived:0,firstReq:!0}},created:function(){this.getWeekData()},methods:o()({getWeekData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return c()(s.a.mark(function a(){var n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return wx.showLoading({title:"加载中……"}),a.next=3,t.REQUEST(e,"weeks");case 3:200==(n=a.sent).code?(t.dataList=n.data,t.handleWeek(0,n.data[0]),wx.hideLoading()):t.TOAST("fail","获取周次失败！");case 5:case"end":return a.stop()}},a,t)}))()},handleWeek:function(t,e){this.actived=t,this.weeksInfo({index:t,id:e.id,img:e.webImg,title:e.title,subTitle:e.subtitle})}},Object(d.b)(["weeksInfo"])),watch:{weekType:function(t,e){this.getWeekData(t)}}}},NnNC:function(t,e){},O6EK:function(t,e){},Qt9A:function(t,e,a){"use strict";var n=a("5vTQ"),s=a("MbFl");var i=function(t){a("O6EK")},c=a("ybqe")(n.a,s.a,i,"data-v-240f54a6",null);e.a=c.exports},VIHc:function(t,e,a){"use strict";var n=a("Xxa5"),s=a.n(n),i=a("exGp"),c=a.n(i),r=a("Dd8w"),o=a.n(r),d=a("NYxO");e.a={data:function(){return{type:3,title:["每周好物榜","暖心定制榜","独立原创榜"],weekCountId:[],typeInfo:[],webImg:[],smallImg:[],getDataStuts:!0}},created:function(){},methods:o()({getTypeInfo:function(t){var e=this;return c()(s.a.mark(function a(){var n,i,c,r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=[],i=t;case 2:if(!(i<t+1)){a.next=10;break}return a.next=5,e.REQUEST(i+1,"ranktype");case 5:200==(c=a.sent).code?(r=c.data,n.push(r)):e.TOAST("fail","获取周榜失败！");case 7:i++,a.next=2;break;case 10:n&&(e.typeInfo=e.typeInfo.concat(n),e.rankInfo({rankData:e.typeInfo}));case 11:case"end":return a.stop()}},a,e)}))()},getSmallImg:function(t){var e=this;return c()(s.a.mark(function t(){var a,n,i,c,r,o,d,u,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.weeksInfo,a.id,n=a.index,i=[],c=[],e.typeInfo.forEach(function(t,e){i.push(t[n].id),c.push(t[n].webImg)}),e.webImg=c,r=[],o=0;case 6:if(!(o<c.length)){t.next=14;break}return t.next=9,e.REQUEST(i[o],"weekimg");case 9:if(200==(d=t.sent).code){for(u=[],l=0;l<c.length;l++)u.push(d.data.data[l].mainImg);r.push(u)}else e.TOAST("fail","获取小图失败！");case 11:o++,t.next=6;break;case 14:r&&(e.smallImg=r);case 15:case"end":return t.stop()}},t,e)}))()},handleCard:function(t){var e=[];this.typeInfo.forEach(function(t){e.push(t[0].id)}),this.rankInfo({index:t,id:e[t],status:Math.random()})}},Object(d.b)(["rankInfo"])),watch:{weeksInfo:function(t,e){var a=this;if(this.getDataStuts){for(var n=function(t){t<2?setTimeout(function(){a.getTypeInfo(t)},300):setTimeout(function(){a.getTypeInfo(t)},500)},s=0;s<this.type;s++)n(s);this.getDataStuts=!1}else this.getSmallImg(1)},"typeInfo.length":function(t,e){3==t&&this.getSmallImg()}},computed:o()({},Object(d.c)(["weeksInfo"]))}},hOWi:function(t,e){},jINr:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weeks_card"},[a("scroll-view",{staticClass:"scroll",staticStyle:{width:"100%"},attrs:{"scroll-x":"true"}},[a("div",{staticClass:"list_wrapper"},t._l(t.type,function(e,n){return a("div",{key:e,staticClass:"item",attrs:{eventid:"0_"+n},on:{click:function(a){t.handleCard(e-1)}}},[a("img",{staticClass:"bg",attrs:{mode:"aspectFill",src:t.webImg[e]}}),t._v(" "),a("h1",[t._v(t._s(t.title[e]))]),t._v(" "),a("div",{staticClass:"small_list"},t._l(t.smallImg[e],function(t,e){return a("img",{key:e,attrs:{src:t}})}))],1)}))])],1)},staticRenderFns:[]};e.a=n},"oh/3":function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weeks"},[a("scroll-view",{staticClass:"scroll",staticStyle:{width:"100%"},attrs:{"scroll-x":"true"}},[a("div",{staticClass:"weeks_list"},t._l(t.dataList,function(e,n){return a("div",{key:n,class:t.actived==n?"actived":"",attrs:{eventid:"0_"+n},on:{click:function(a){t.handleWeek(n,e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))])],1)},staticRenderFns:[]};e.a=n},pjNn:function(t,e,a){"use strict";var n=a("v0c6"),s=a("5vKG");var i=function(t){a("NnNC")},c=a("ybqe")(n.a,s.a,i,"data-v-f908b3f2",null);e.a=c.exports},ulwq:function(t,e){},v0c6:function(t,e,a){"use strict";var n=a("Xxa5"),s=a.n(n),i=a("exGp"),c=a.n(i),r=a("Dd8w"),o=a.n(r),d=a("DXLP"),u=a("NYxO");e.a={data:function(){return{showCard:!1,dataList:{},actived:0,tagTitle:["每周好物榜","暖心定制榜","独立原创榜"],weekType:1}},methods:o()({getListData:function(t){var e=this;return c()(s.a.mark(function a(){var n,i;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(n=t||e.weeksInfo.id||"")){a.next=8;break}return wx.showLoading({title:"加载中……"}),a.next=5,e.REQUEST(n,"weeksl");case 5:i=a.sent,e.dataList=i.data.data,wx.hideLoading();case 8:case"end":return a.stop()}},a,e)}))()},toDetail:function(t,e){this.setDetailId({id:t,type:"rec"}),wx.reLaunch({url:"/pages/detail/main"})},chooseRank:function(t){this.actived=t,this.weekType=t+1},fromIndexRank:function(t){var e=this.rankInfo.index;this.actived=e,this.chooseRank(e),this.getListData(t)},onClose:function(){this.showCard=!1}},Object(u.b)(["setDetailId"])),watch:{"weeksInfo.id":function(t,e){t&&this.getListData()},"rankInfo.id":function(t,e){this.fromIndexRank(t)},"rankInfo.status":function(t,e){t&&(this.showCard=t)},rankSheetShow:function(t,e){t&&(this.showCard=t)}},computed:o()({},Object(u.c)(["weeksInfo","rankInfo","rankSheetShow"])),components:{Weeks:d.a}}},wGq5:function(t,e,a){"use strict";var n=a("VIHc"),s=a("jINr");var i=function(t){a("ulwq")},c=a("ybqe")(n.a,s.a,i,"data-v-5503dbba",null);e.a=c.exports}},["MhDc"]);